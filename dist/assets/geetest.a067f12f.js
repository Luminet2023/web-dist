import{a as I,m as n,aT as r,b6 as a,bG as w,h as i,bN as A,E as c,d8 as M,C as N,b7 as v,n as Q,a8 as x}from"./index.5c604dd9.js";import{b as B}from"./useTitle.4057136b.js";import{G}from"./index.9f886ec4.js";import{I as u}from"./SettingItem.fb64af36.js";import"./index.849d1276.js";import"./index.7e521913.js";import"./item_type.be442da4.js";const V=()=>{const o=I();B("manage.sidemenu.other");const[g,m]=n(""),[d,p]=n(""),[b,f]=n(""),[D,E]=n(""),[F,T]=n("");n("");const[l,$]=n([]),[C,U]=r(()=>a.get(`/admin/setting/list?groups=${G.GEETEST},${G.SINGLE}`)),[q,L]=r(()=>a.post("/admin/setting/set_geetest",{Uri:g(),Secret:d(),GeetestEnabled:b()}));return(async()=>{const e=await U();v(e,s=>{var h,y,_,k,S;m(((h=s.find(t=>t.key==="geetest_id"))==null?void 0:h.value)||""),p(((y=s.find(t=>t.key==="geetest_key"))==null?void 0:y.value)||""),f(((_=s.find(t=>t.key==="geetest_enabled"))==null?void 0:_.value)||""),E(((k=s.find(t=>t.key==="qbittorrent_url"))==null?void 0:k.value)||""),T(((S=s.find(t=>t.key==="qbittorrent_seedtime"))==null?void 0:S.value)||""),$(s)})})(),r(()=>a.post("/admin/setting/reset_token")),w(),r(()=>a.post("/admin/setting/set_geetest",{Uri:g(),Secret:d()})),i(x,{get loading(){return C()},get children(){return[i(A,{mb:"$2",get children(){return o("\u9A8C\u8BC1\u7801")}}),i(u,c(()=>l().find(e=>e.key==="geetest_enabled"),{get value(){return b()},onChange:e=>f(e)})),i(M,{gap:"$2",columns:{"@initial":1,"@md":2},get children(){return[i(u,c(()=>l().find(e=>e.key==="geetest_id"),{get value(){return g()},onChange:e=>m(e)})),i(u,c(()=>l().find(e=>e.key==="geetest_key"),{get value(){return d()},onChange:e=>p(e)}))]}}),i(N,{my:"$2",get loading(){return q()},onClick:async()=>{const e=await L();v(e,s=>{Q.success(`${o("settings_other.aria2_version")} ${s}`)})},get children(){return o("settings_other.set_aria2")}})]}})};export{V as default};
