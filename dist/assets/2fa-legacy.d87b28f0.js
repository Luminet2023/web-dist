System.register(["./index-legacy.32b0ab0d.js"],(function(e){"use strict";var r,t,n,a,u,s,c,i,g,o,l,d,h,b,f,y,p,v,x,m,w;return{setters:[e=>{r=e.b,t=e.aT,n=e.b6,a=e.a,u=e.m,s=e.h,c=e.S,i=e.a4,g=e.bN,o=e.ar,l=e.aL,d=e.b2,h=e.ag,b=e.I,f=e.C,y=e.a8,p=e.aA,v=e.n,x=e.b7,m=e.aV,w=e.d3}],execute:function(){e("default",(()=>{const{back:e}=r(),[_,$]=t((()=>n.post("/auth/2fa/generate"))),k=a(),[I,S]=u(),[q,C]=u("");(async()=>{if(p().otp)return v.warning(k("users.2fa_already_enabled")),void e();const r=await $();x(r,S)})();const[T,j]=t((()=>n.post("/auth/2fa/verify",{code:q(),secret:I()?.secret}))),z=async()=>{const r=await j();m(r,(()=>{w({...p(),otp:!0}),e()}))};return s(y,{get loading(){return _()},get children(){return s(c,{get when(){return I()},get children(){return s(i,{spacing:"$2",alignItems:"start",get children(){return[s(g,{get children(){return k("users.scan_qr")}}),s(o,{boxSize:"$xs",rounded:"$lg",get src(){return I()?.qr}}),s(g,{get children(){return[l((()=>k("users.or_manual"))),":"," ",s(d,{get color(){return h()},get children(){return I()?.secret}})]}}),s(b,{maxW:"$xs",get placeholder(){return k("users.input_code")},get value(){return q()},onInput:e=>C(e.currentTarget.value),onKeyDown:e=>{"Enter"===e.key&&z()}}),s(f,{get loading(){return T()},onClick:z,get children(){return k("users.verify")}})]}})}})}})}))}}}));
